# üå± –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ó–∞–≥—Ä—É–∑–∫–∞ –≥—Ä—è–¥–æ–∫ –≤ Supabase

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

1. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤ Supabase
2. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å CSV —Ñ–∞–π–ª –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

---

## –®–ê–ì 1: –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard: https://supabase.com/dashboard
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor** (—Å–ª–µ–≤–∞ –≤ –º–µ–Ω—é)
4. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `sql/supabase_setup_beds.sql` –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å** SQL –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞
6. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
7. –ù–∞–∂–º–∏—Ç–µ **Run** (–∏–ª–∏ F5)

**‚úÖ –ì–æ—Ç–æ–≤–æ! –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞.**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Table Editor** (—Å–ª–µ–≤–∞ –≤ –º–µ–Ω—é)
- –ù–∞–π–¥–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É `beds`
- –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É ‚Äî –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

---

## –®–ê–ì 2: –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ CSV

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
- –ï—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ç–µ—Ä–º–∏–Ω–∞–ª—É
- –§–∞–π–ª `gryadki_prices.csv` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- –í `.env` —Ñ–∞–π–ª–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–ª—é—á–∏ Supabase (–∫–∞–∫ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤)

### –®–∞–≥–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º:
   ```bash
   cd /Users/pavelkulcinskij/Downloads/delivery-calculator-test-main
   ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã):
   ```bash
   npm install
   ```

4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ –µ—Å—Ç—å –∫–ª—é—á–∏:
   ```
   SUPABASE_URL=https://dyoibmfdohpvjltfaygr.supabase.co
   SUPABASE_SERVICE_ROLE_KEY=–≤–∞—à_service_role_key
   ```
   
   (–¢–µ –∂–µ –∫–ª—é—á–∏, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞)

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
   ```bash
   npm run beds:import
   ```

   –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –ó–∞–≥—Ä—É–∑–∏—Ç `.env` —Ñ–∞–π–ª (–∏–∑ –∫–æ—Ä–Ω—è –∏–ª–∏ –∏–∑ `telegram-bot/.env`)
   - –ü—Ä–æ—á–∏—Ç–∞–µ—Ç CSV —Ñ–∞–π–ª `gryadki_prices.csv`
   - –°–æ–∑–¥–∞—Å—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–∑ `js/scripts.js` (40 –ø–æ–∑–∏—Ü–∏–π)
   - –î–æ–ø–æ–ª–Ω–∏—Ç –∏—Ö —Ü–µ–Ω–∞–º–∏ –∏–∑ CSV (–≤—ã—á–∏—Å–ª–∏—Ç —Å—Ä–µ–¥–Ω–∏–µ —Ü–µ–Ω—ã –ø–æ –≤—Å–µ–º –≥–æ—Ä–æ–¥–∞–º)
   - –ó–∞–≥—Ä—É–∑–∏—Ç –≥–æ—Ç–æ–≤—ã–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Supabase

**‚úÖ –ì–æ—Ç–æ–≤–æ! –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã.**

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:

1. **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É** –∏–∑ `js/scripts.js` (40 –ø–æ–∑–∏—Ü–∏–π: 20 –Ω–∏–∑–∫–∏—Ö + 20 –≤—ã—Å–æ–∫–∏—Ö)
2. **–ß–∏—Ç–∞–µ—Ç CSV —Ñ–∞–π–ª** `gryadki_prices.csv` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω
3. **–ü–∞—Ä—Å–∏—Ç URL —Ç–æ–≤–∞—Ä–æ–≤** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:
   - –í—ã—Å–æ—Ç—ã (–Ω–∏–∑–∫–∏–µ/–≤—ã—Å–æ–∫–∏–µ) - –∏–∑ —Å–ª–æ–≤–∞ "nizkie" –∏–ª–∏ "vysokie" –≤ URL
   - –®–∏—Ä–∏–Ω—ã (0.5, 0.65, 0.75‚Üí0.8, 1.0) - –∏–∑ URL, –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç 0.75 –∫ 0.8
4. **–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—ã—Å–æ—Ç—É –ø–æ —Ü–µ–Ω–µ** (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ —è–≤–Ω–æ –≤ URL):
   - –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –≥—Ä—è–¥–∫–∏ –ø–æ —à–∏—Ä–∏–Ω–µ –∏ –¥–ª–∏–Ω–µ
   - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ü–µ–Ω—ã: –±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–∏–µ = –≤—ã—Å–æ–∫–∏–µ, –±–æ–ª–µ–µ –¥–µ—à–µ–≤—ã–µ = –Ω–∏–∑–∫–∏–µ
5. **–°–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ü–µ–Ω—ã –∏–∑ CSV** —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
6. **–í—ã—á–∏—Å–ª—è–µ—Ç —Å—Ä–µ–¥–Ω—é—é —Ü–µ–Ω—É** –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ (–ø–æ –≤—Å–µ–º –≥–æ—Ä–æ–¥–∞–º)
7. **–°–æ–∑–¥–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** (40 –∑–∞–ø–∏—Å–µ–π)
8. **–ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤ Supabase** —Ç–∞–±–ª–∏—Ü—É `beds`

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Supabase:

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | TEXT | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (–Ω–∞–ø—Ä–∏–º–µ—Ä, "low-0.5-4") |
| `height` | INTEGER | –í—ã—Å–æ—Ç–∞: 19 (–Ω–∏–∑–∫–∏–µ) –∏–ª–∏ 38 (–≤—ã—Å–æ–∫–∏–µ) —Å–º |
| `width` | NUMERIC | –®–∏—Ä–∏–Ω–∞: 0.5, 0.65, 0.75, 1.0 –º |
| `length` | INTEGER | –î–ª–∏–Ω–∞: 4, 6, 8, 10, 12 –º |
| `price` | INTEGER | –¶–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö (—Å—Ä–µ–¥–Ω—è—è –ø–æ –≤—Å–µ–º –≥–æ—Ä–æ–¥–∞–º) |
| `name` | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `product_url` | TEXT | URL —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∞–π—Ç–µ |

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö:

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ Supabase:

```sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –≥—Ä—è–¥–∫–∏
SELECT * FROM beds ORDER BY height, width, length;

-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∏–∑–∫–∏–µ –≥—Ä—è–¥–∫–∏
SELECT * FROM beds WHERE height = 19 ORDER BY width, length;

-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ª—å–∫–æ –≤—ã—Å–æ–∫–∏–µ –≥—Ä—è–¥–∫–∏
SELECT * FROM beds WHERE height = 38 ORDER BY width, length;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
SELECT COUNT(*) FROM beds;
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: **40 –∑–∞–ø–∏—Å–µ–π** (20 –Ω–∏–∑–∫–∏—Ö + 20 –≤—ã—Å–æ–∫–∏—Ö)

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã:

1. –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `gryadki_prices.csv`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞:
   ```bash
   npm run beds:import
   ```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—Å—Ç–∏—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç –Ω–æ–≤—ã–µ.

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### –û—à–∏–±–∫–∞: "SUPABASE_SERVICE_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞

### –û—à–∏–±–∫–∞: "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `gryadki_prices.csv` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤ Supabase
**–†–µ—à–µ–Ω–∏–µ:** 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `beds` —Å–æ–∑–¥–∞–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Service Role Key –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
