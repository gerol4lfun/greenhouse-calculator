# Обновление репозиториев (калькулятор и Telegram-бот)

У тебя два репозитория:
- **gerol4lfun/greenhouse-calculator** — калькулятор (весь проект, включая папку `telegram-bot`)
- **gerol4lfun/delivery-bot-telegram** — отдельный репозиторий только для бота (деплой на Railway)

Текущая папка — это полный проект калькулятора. Ниже как синхронизировать оба репо.

---

## 1. Обновить репозиторий калькулятора (greenhouse-calculator)

Всё, что в этой папке (включая правки в `js/scripts.js` и в `telegram-bot/`), пушится в один репо.

```bash
cd "/Users/pavelkulcinskij/Downloads/greenhouse-calculator-main 3"

# Если ещё не клонировал — клонируй и скопируй сюда файлы
# git clone https://github.com/gerol4lfun/greenhouse-calculator.git
# Затем скопируй свои изменения в клонированную папку

# Если папка уже привязана к репо:
git status
git add .
git commit -m "v210: убраны логи из консоли; фикс обновления дат (Великий Новгород и дубли)"
git push origin main
```

После пуша GitHub Pages подхватит новый код (если настроен деплой из `main`).

---

## 2. Обновить репозиторий бота (delivery-bot-telegram)

В репо бота лежат только файлы бота. Их нужно взять из папки `telegram-bot/` этого проекта.

**Вариант A — отдельная папка бота уже есть (клонирован delivery-bot-telegram):**

```bash
# Путь к твоему клону delivery-bot-telegram (замени на свой)
BOT_REPO="/Users/pavelkulcinskij/путь/к/delivery-bot-telegram"
SOURCE="/Users/pavelkulcinskij/Downloads/greenhouse-calculator-main 3/telegram-bot"

cp "$SOURCE/index.js" "$BOT_REPO/"
cp "$SOURCE/parser.js" "$BOT_REPO/"
cp "$SOURCE/cities.js" "$BOT_REPO/"
cp "$SOURCE/supabase.js" "$BOT_REPO/"
cp "$SOURCE/package.json" "$BOT_REPO/"

cd "$BOT_REPO"
git add index.js parser.js cities.js supabase.js package.json
git status
git commit -m "Фикс: обновление всех строк города (Великий Новгород и дубли)"
git push origin main
```

**Вариант B — клонируешь бота в новую папку:**

```bash
cd ~
git clone https://github.com/gerol4lfun/delivery-bot-telegram.git
cd delivery-bot-telegram

# Копируешь актуальные файлы из проекта калькулятора
cp "/Users/pavelkulcinskij/Downloads/greenhouse-calculator-main 3/telegram-bot/index.js" .
cp "/Users/pavelkulcinskij/Downloads/greenhouse-calculator-main 3/telegram-bot/parser.js" .
cp "/Users/pavelkulcinskij/Downloads/greenhouse-calculator-main 3/telegram-bot/cities.js" .
cp "/Users/pavelkulcinskij/Downloads/greenhouse-calculator-main 3/telegram-bot/supabase.js" .
cp "/Users/pavelkulcinskij/Downloads/greenhouse-calculator-main 3/telegram-bot/package.json" .

git add .
git commit -m "Фикс: обновление всех строк города (Великий Новгород и дубли)"
git push origin main
```

После пуша Railway пересоберёт и задеплоит бота автоматически (если подключён к этому репо).

---

## Что куда попало

| Изменение | Репозиторий |
|-----------|-------------|
| Убраны логи из консоли (даты доставки, PNG и т.п.) | **greenhouse-calculator** (`js/scripts.js`) |
| Фикс обновления дат: все строки города обновляются, а не одна | **delivery-bot-telegram** (`telegram-bot/supabase.js` и при необходимости parser/cities) |

В калькуляторе в консоли теперь не пишется «✅ Успешно загружено дат доставки: 32» и подобное (оно показывается только при `DEBUG = true`).
